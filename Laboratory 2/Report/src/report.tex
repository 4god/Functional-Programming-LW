% !TEX root = main.tex

\section{Для указанных выражений составить диаграмму вычисления}

\vfill
\problem $\bigl(equal\; 3\; (abs -\!3)\bigr)$

\begin{itemize}
	\item[$\longrightarrow$]$\bigl(equal\; 3\; (abs -\!3)\bigr)$:
	\begin{itemize}
		\item[\textbullet] вычисляется $3$ к $3$;
		\item[$\longrightarrow$] $(abs -\!3)$:
		\begin{itemize}
			\item[\textbullet] вычисляется $-3$ к $-3$;
		\end{itemize}
		\item[$\Longrightarrow$] применение $abs$ к $-3$;
		\item[$\Longrightarrow$] \underline{возвращаемый результат}: $3$;
	\end{itemize}
	\item[$\Longrightarrow$] применение $equal$ к $3, 3$;
	\item[$\Longrightarrow$] \underline{возвращаемый результат}: T.
\end{itemize}
\vfill


\problem $\bigl(equal\; (+\; 1\; 2)\; 3\bigr)$

\begin{itemize}
	\item[$\longrightarrow$] $\bigl(equal\; (+\; 1\; 2)\; 3\bigr)$:
	\begin{itemize}
		\item[$\longrightarrow$] $(+\; 1\; 2)$:
		\begin{itemize}
			\item[\textbullet] вычисляется $1$ к $1$;
			\item[\textbullet] вычисляется $2$ к $2$;
		\end{itemize}
		\item[$\Longrightarrow$] применение <<$+$>> к $1$, $2$;
		\item[$\Longrightarrow$] \underline{возвращаемый результат}: $3$;
		\item[\textbullet] вычисляется $3$ к $3$;
	\end{itemize}
	\item[$\Longrightarrow$] применение $equal$ к $3$, $3$;
	\item[$\Longrightarrow$] \underline{возвращаемый результат}: T.
\end{itemize}
\vfill


\problem $\bigl(equal\; (*\; 4\; 7)\; 21\bigr)$

\begin{itemize}
	\item[$\longrightarrow$] $\bigl(equal\; (*\; 4\; 7)\; 21\bigr)$:
	\begin{itemize}
		\item[$\longrightarrow$] $(*\; 4\; 7)$:
		\begin{itemize}
			\item[\textbullet] вычисляется $4$ к $4$;
			\item[\textbullet] вычисляется $7$ к $7$;
		\end{itemize}
		\item[$\Longrightarrow$] применение <<$*$>> к $4$, $7$;
		\item[$\Longrightarrow$] \underline{возвращаемый результат}: $28$;
		\item[\textbullet] вычисляется $21$ к $21$;
	\end{itemize}
	\item[$\Longrightarrow$] применение $equal$ к $28$, $21$;
	\item[$\Longrightarrow$] \underline{возвращаемый результат}: NIL.
\end{itemize}


\newpage
\vfill
\problem $\bigl(equal\; (*\; 2\; 3)\; (+\; 7\; 2) \bigr)$

\begin{itemize}
	\item[$\longrightarrow$] $\bigl(equal\; (*\; 2\; 3)\; (+\; 7\; 2) \bigr)$:
	\begin{itemize}
		\item[$\longrightarrow$] $(*\; 2\; 3)$:
		\begin{itemize}
			\item[\textbullet] вычисляется $2$ к $2$;
			\item[\textbullet] вычисляется $3$ к $3$;
		\end{itemize}
		\item[$\Longrightarrow$] применение <<$*$>> к $2$, $3$;
		\item[$\Longrightarrow$] \underline{возвращаемый результат}: $6$;
		\item[$\longrightarrow$] $(+\; 7\; 2)$:
		\begin{itemize}
			\item[\textbullet] вычисляется $7$ к $7$;
			\item[\textbullet] вычисляется $2$ к $2$;
		\end{itemize}
		\item[$\Longrightarrow$] применение <<$+$>> к $7$, $2$;
		\item[$\Longrightarrow$] \underline{возвращаемый результат}: $9$;
	\end{itemize}
	\item[$\Longrightarrow$] применение $equal$ к $6$, $9$;
	\item[$\Longrightarrow$] \underline{возвращаемый результат}: NIL.
\end{itemize}
\vfill


\problem $\bigl(equal\; (-\; 7\; 3)\; (*\; 3\; 2) \bigr)$

\begin{itemize}
	\item[$\longrightarrow$] $\bigl(equal\; (-\; 7\; 3)\; (*\; 3\; 2) \bigr)$:
	\begin{itemize}
		\item[$\longrightarrow$] $(-\; 7\; 3)$:
		\begin{itemize}
			\item[\textbullet] вычисляется $7$ к $7$;
			\item[\textbullet] вычисляется $3$ к $3$;
		\end{itemize}
		\item[$\Longrightarrow$] применение <<$-$>> к $7$, $3$;
		\item[$\Longrightarrow$] \underline{возвращаемый результат}: $4$;
		\item[$\longrightarrow$] $(*\; 3\; 2)$:
		\begin{itemize}
			\item[\textbullet] вычисляется $3$ к $3$;
			\item[\textbullet] вычисляется $2$ к $2$;
		\end{itemize}
		\item[$\Longrightarrow$] применение <<$*$>> к $3$, $2$;
		\item[$\Longrightarrow$] \underline{возвращаемый результат}: $6$;
	\end{itemize}
	\item[$\Longrightarrow$] применение $equal$ к $4$, $6$;
	\item[$\Longrightarrow$] \underline{возвращаемый результат}: NIL.
\end{itemize}
\vfill

\newpage
\problem $\Bigl(equal\; \bigl(abs\; (-\; 2\; 4)\bigr)\; 3\Bigr)$

\begin{itemize}
	\item[$\longrightarrow$] $\Bigl(equal\; \bigl(abs\; (-\; 2\; 4)\bigr)\; 3\Bigr)$:
	\begin{itemize}
		\item[$\longrightarrow$] $\bigl(abs\; (-\; 2\; 4)\bigr)$:
		\begin{itemize}
			\item[$\longrightarrow$] $(-\; 2\; 4)$:
			\begin{itemize}
				\item[\textbullet] вычисляется $2$ к $2$;
				\item[\textbullet] вычисляется $4$ к $4$;
			\end{itemize}
			\item[$\Longrightarrow$] применение <<$-$>> к $2$, $4$;
			\item[$\Longrightarrow$] \underline{возвращаемый результат}: $-2$;
		\end{itemize}
		\item[$\Longrightarrow$] применение $abs$ к $-2$;
		\item[$\Longrightarrow$] \underline{возвращаемый результат}: $2$;
		\item[\textbullet] вычисляется $3$ к $3$;
	\end{itemize}
	\item[$\Longrightarrow$] применение $equal$ к $2$, $3$;
	\item[$\Longrightarrow$] \underline{возвращаемый результат}: NIL.
\end{itemize}



\newpage
\section{Написать функцию и составить для неё диаграмму вычисления}

\problem Функция вычисляет гипотенузу прямоугольного треугольника по заданным катетам.\\[0.1cm]

\biglisting{../../Problems/src/problem-2-1.lisp}

\begin{itemize}
	\item[$\longrightarrow$] $(hypotenuse\!-\!rect\!-\!triangle\; q\; w)$
	\begin{itemize}
		\item[\textbullet] вычисляется $q$ к $q$;
		\item[\textbullet] вычисляется $w$ к $w$;
	\end{itemize}
	\item[$\Longrightarrow$] применение $hypotenuse\!-\!rect\!-\!triangle$ к $q$, $w$;
	\begin{itemize}
		\item[\textbullet] создаётся переменная $leg1$ cо значением $q$;
		\item[\textbullet] создаётся переменная $leg2$ cо значением $w$;
		\item[$\longrightarrow$] $\Bigl(sqrt\; \bigl(+\; (*\; leg1\; leg1)\; (*\; leg2\; leg2)\bigr)\Bigr)$:
		\begin{itemize}
			\item[$\longrightarrow$] $\bigl(+\; (*\; leg1\; leg1)\; (*\; leg2\; leg2)\bigr)$:
			\begin{enumerate}
				\item[$\longrightarrow$] $(*\; leg1\; leg1)$:
				\begin{enumerate}
					\item[\textbullet] вычисляется $leg1$ к $q$;
					\item[\textbullet] вычисляется $leg1$ к $q$;
				\end{enumerate}
				\item[$\Longrightarrow$] применение <<$*$>> к $q$, $q$;
				\item[$\Longrightarrow$] \underline{возвращаемый результат}: $q^2$;
				\item[$\longrightarrow$] $(*\; leg2\; leg2)$:
				\begin{enumerate}
					\item[\textbullet] $leg2$ к $w$;
					\item[\textbullet] $leg2$ к $w$;
				\end{enumerate}
				\item[$\Longrightarrow$] применение <<$*$>> к $w$, $w$;
				\item[$\Longrightarrow$] \underline{возвращаемый результат}: $w^2$;
			\end{enumerate}
			\item[$\Longrightarrow$] применение <<$+$>> к $q^2$, $w^2$;
			\item[$\Longrightarrow$] \underline{возвращаемый результат}: $q^2 + w^2$;
		\end{itemize}
		\item[$\Longrightarrow$] применение $sqrt$ к $q^2 + w^2$;
		\item[$\Longrightarrow$] \underline{возвращаемый результат}: $\sqrt{q^2 + w^2}$.
	\end{itemize}
	\item[$\Longrightarrow$] \underline{возвращаемый результат}: $\sqrt{q^2 + w^2}$.
\end{itemize}


\newpage
\problem Функция вычисляет объём прямоугольного параллелепипеда по 3-м его сторонам.\\[0.1cm]

\biglisting{../../Problems/src/problem-2-2.lisp}
\vspace{0.2cm}

\begin{itemize}
	\item[$\longrightarrow$] $(volume\!-\!rect\!-\!parallepiped\; q\; w\; e)$;
	\begin{itemize}
		\item[\textbullet] вычисляется $q$ к $q$;
		\item[\textbullet] вычисляется $w$ к $w$;
		\item[\textbullet] вычисляется $e$ к $e$;
	\end{itemize}
	\item[$\Longrightarrow$] применение $volume\!-\!rect\!-\!parallepiped$ к $q$, $w$, $e$:
	\begin{itemize}
		\item[\textbullet] создаётся переменная $leg1$ со значением $q$;
		\item[\textbullet] создаётся переменная $leg2$ со значением $w$;
		\item[\textbullet] создаётся переменная $leg3$ со значением $e$;
		\item[$\longrightarrow$] $(*\; leg1\; leg2\; leg3)$:
		\begin{itemize}
			\item[\textbullet] вычисляется $leg1$ к $q$;
			\item[\textbullet] вычисляется $leg2$ к $w$;
			\item[\textbullet] вычисляется $leg3$ к $e$;
		\end{itemize}
		\item[$\Longrightarrow$] применение <<$*$>> к $q$, $w$, $e$;
		\item[$\Longrightarrow$] \underline{возвращаемый результат}: $q \cdot w \cdot e$;
	\end{itemize}
	\item[$\Longrightarrow$] \underline{возвращаемый результат}: $q \cdot w \cdot e$.
\end{itemize}


\newpage
\problem Функция по заданной гипотенузе и катету, вычисляет другой катет прямоугольного треугольника.\\[0.1cm]

\biglisting{../../Problems/src/problem-2-3.lisp}

\begin{itemize}
	\item[$\longrightarrow$] $(leg\!-\!of\!-\!rect\!-\!triangle\; b\; c)$:
	\begin{itemize}
		\item[\textbullet] вычисляется $b$ к $b$;
		\item[\textbullet] вычисляется $c$ к $c$;
	\end{itemize}
	\item[$\Longrightarrow$] применение $leg\!-\!of\!-\!rect\!-\!triangle$:
	\begin{itemize}
		\item[\textbullet] создаётся переменная $leg$ со значением $b$;
		\item[\textbullet] создаётся переменная $hypotenuse$ со значением $c$;
		\item[$\longrightarrow$] $\Bigl(\!sqrt\; \bigl(-\; (*\; hypotenuse\; hypotenuse)\; (*\; leg\; leg)\bigr)\!\Bigr)$:
		\begin{itemize}
			\item[$\longrightarrow$] $\bigl(-\; (*\; hypotenuse\; hypotenuse)\; (*\; leg\; leg)\bigr)$:
			\begin{itemize}
				\item[$\longrightarrow$] $(*\; hypotenuse\; hypotenuse)$:
				\begin{enumerate}
					\item[\textbullet] вычисляется $hypotenuse$ к $c$;
					\item[\textbullet] вычисляется $hypotenuse$ к $c$;
				\end{enumerate}
				\item[$\Longrightarrow$] применение <<$*$>> к $c$, $c$;
				\item[$\Longrightarrow$] \underline{возвращаемый результат}: $c^2$;
				\item[$\longrightarrow$] $(*\; leg\; leg)$:
				\begin{enumerate}
					\item[\textbullet] вычисляется $leg$ к $b$;
					\item[\textbullet] вычисляется $leg$ к $b$;
				\end{enumerate}
				\item[$\Longrightarrow$] применение <<$*$>> к $b$, $b$;
				\item[$\Longrightarrow$] \underline{возвращаемый результат}: $b^2$;
			\end{itemize}
			\item[$\Longrightarrow$] применение <<$-$>> к $c^2$, $b^2$;
			\item[$\Longrightarrow$] \underline{возвращаемый результат}: $c^2 - b^2$;
		\end{itemize}
		\item[$\Longrightarrow$] применение $sqrt$ к $c^2 - b^2$;
		\item[$\Longrightarrow$] \underline{возвращаемый результат}: $\sqrt{c^2 - b^2}$;
	\end{itemize}
	\item[$\Longrightarrow$] \underline{возвращаемый результат}: $\sqrt{c^2 - b^2}$.
\end{itemize}


\newpage
\problem Функция вычисляет площадь трапеции по её основаниям и высоте\\[0.1cm]

\biglisting{../../Problems/src/problem-2-4.lisp}

\begin{itemize}
	\item[$\longrightarrow$] $(trapezoid\!-\!area\; a\; b\; h)$:
	\begin{itemize}
		\item[\textbullet] вычисляется $a$ к $a$;
		\item[\textbullet] вычисляется $b$ к $b$;
		\item[\textbullet] вычисляется $h$ к $h$;
	\end{itemize}
	\item[$\Longrightarrow$] применение $trapezoid\!-\!area$ к $a,\; b,\; h$;
	\begin{itemize}
		\item[\textbullet] создаётся переменная $parallel\!-\!side1$ со значением $a$;
		\item[\textbullet] создаётся переменная $parallel\!-\!side2$ со значением $b$;
		\item[\textbullet] создаётся переменная $height$ со значением $h$;
		\item[$\longrightarrow$] $\bigl(*\; 0.5\; height\; (+\; parallel\!-\!side1\; parallel\!-\!side2)\bigr)$:
		\begin{itemize}
			\item[\textbullet] вычисляется $0.5$ к $0.5$;
			\item[\textbullet] вычисляется $height$ к $h$;
			\item[$\longrightarrow$] $(+\; parallel\!-\!side1\; parallel\!-\!side2)$:
			\begin{itemize}
				\item[\textbullet] вычисляется $parallel\!-\!side1$ к $a$;
				\item[\textbullet] вычисляется $parallel\!-\!side2$ к $b$;
			\end{itemize}
			\item[$\Longrightarrow$] применение <<$+$>> к $a$, $b$;
			\item[$\Longrightarrow$] \underline{возвращаемый результат}: $a + b$;
		\end{itemize}
		\item[$\Longrightarrow$] применение <<$*$>> к $0.5$, $h$, $a + b$;
		\item[$\Longrightarrow$] \underline{возвращаемый результат}: $0.5 \cdot h \cdot (a + b)$;
	\end{itemize}
	\item[$\Longrightarrow$] \underline{возвращаемый результат}: $0.5 \cdot h \cdot (a + b)$.
\end{itemize}



\newpage
\section{Вычислить результаты выражений}

\problem \hfill

\begin{lstlisting}
(list 'a 'b c) => Unbound variable C
\end{lstlisting}


\problem \hfill

\begin{lstlisting}
(cons 'a (b c)) => Unbound variable C
\end{lstlisting}


\problem \hfill

\begin{lstlisting}
(cons 'a '(b c)) => (A B C) 
\end{lstlisting}


\problem \hfill

\begin{lstlisting}
(caddr '(1 2 3 4 5)) => 3
\end{lstlisting}


\problem \hfill

\begin{lstlisting}
(cons 'a 'b 'c) => Too many arguments
\end{lstlisting}


\problem \hfill

\begin{lstlisting}
(list 'a (b c)) => Unbound variable C
\end{lstlisting}


\problem \hfill

\begin{lstlisting}
(list a '(b c)) => Unbound variable A
\end{lstlisting}


\problem \hfill

\begin{lstlisting}
(list (+ 1 (length '(1 2 3)))) => (4) 
\end{lstlisting}


\problem \hfill

\begin{lstlisting}
(cons 3 (list 5 6)) => (3 5 6)
\end{lstlisting}


\problem \hfill

\begin{lstlisting}
(list 3 'from 9 'gives (- 9 3)) => (3 FROM 9 GIVES 6) 
\end{lstlisting}


\problem \hfill

\begin{lstlisting}
(+ (length '(1 foo 2 too)) (car '(21 22 23))) => 25
\end{lstlisting}


\problem \hfill

\begin{lstlisting}
(cdr '(cons is short for ans)) => (IS SHORT FOR ANS)
\end{lstlisting}


\problem \hfill

\begin{lstlisting}
(car (list one two)) => Unbound variable ONE
\end{lstlisting}


\problem \hfill

\begin{lstlisting}
(cons 3 '(list 5 6)) => (3 LIST 5 6)
\end{lstlisting}


\problem \hfill

\begin{lstlisting}
(car (list 'one 'tow)) => ONE
\end{lstlisting}


\problem \hfill

\begin{lstlisting}
(list 'cons t NIL) => (CONS T NIL) 
\end{lstlisting}


\problem \hfill

\begin{lstlisting}
(eval (eval (list 'cons t NIL))) => Undefined function T
\end{lstlisting}


\problem \hfill

\begin{lstlisting}
(apply #'cons '(t NIL)) => (T) 
\end{lstlisting}


\problem \hfill
\begin{lstlisting}
(list 'eval NIL) => (EVAL NIL)
\end{lstlisting}


\problem \hfill
\begin{lstlisting}
(eval (list 'cons t nil)) => (T)
\end{lstlisting}


\problem \hfill
\begin{lstlisting}
(eval NIL) => NIL
\end{lstlisting}


\problem \hfill
\begin{lstlisting}
(eval (list 'eval NIL)) => NIL
\end{lstlisting}


\problem \hfill
\begin{lstlisting}
(equal (+ 1 2) 3) => T
\end{lstlisting}


\problem \hfill
\begin{lstlisting}
(equal (abs (- 2 4)) 3) => NIL
\end{lstlisting}


\problem \hfill
\begin{lstlisting}
(equal (abs (- 2 4)) 2) => T
\end{lstlisting}


\problem \hfill
\begin{lstlisting}
(eql (abs (- 2 4)) 2.0) => NIL
\end{lstlisting}


\problem \hfill
\begin{lstlisting}
(eql (abs (- 2 4)) 2) => T 
\end{lstlisting}


\problem \hfill
\begin{lstlisting}
(eql (list (abs (- 2 4))) '(2.0)) => NIL
\end{lstlisting}


\problem \hfill
\begin{lstlisting}
(equal (list (abs (- 2 4))) '(2)) => T
\end{lstlisting}


\problem \hfill
\begin{lstlisting}
(equalp (list (abs (- 2 4))) '(2.0)) => T 
\end{lstlisting}



\section{Написать функцию}

\problem Функция от двух списков-аргументов, которая возвращает \verb|T|, если первый аргумент имеет большую длину.

\biglisting{../../Problems/src/problem-4-1.lisp}


\problem Функция переводит температуру из системы Фаренгейта в температуру по Цельсию.

\biglisting{../../Problems/src/problem-4-2.lisp}



\section{Исследование функции}

Имеется следующая функция

\biglisting{../../Problems/src/problem-5.lisp}

\noindent
Необходимо вычислить результаты выражений.


\problem \hfill
\begin{lstlisting}
(mystery '(one two)) => (TWO ONE)
\end{lstlisting}


\problem \hfill
\begin{lstlisting}
(mystery 'free) => value FREE is not LIST
\end{lstlisting}


\problem \hfill
\begin{lstlisting}
(mystery (last 'one 'two)) => no list for LAST
\end{lstlisting}


\problem \hfill
\begin{lstlisting}
(mystery 'one 'two) => too many arguments
\end{lstlisting}



\section{Заключение}

В данной лабораторной работе было рассмотрено составление \textit{диаграммы вычисления}, а так же изучены функции \verb|EQL|, \verb|EQUAL|, \verb|EQUALP|, \verb|ABS|, \verb|SQRT|, \verb|LENGTH|, \verb|EVAL|, \verb|APPLY|, \verb|FIRST|, \verb|SECOND|.